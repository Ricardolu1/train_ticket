(this.webpackJsonptrain_ticket=this.webpackJsonptrain_ticket||[]).push([[4],{13:function(e,t,n){},15:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=(n(20),n(3)),i=n.n(c),o=n(4),s=n.n(o),l=(n(19),Object(r.memo)((function(e){var t=e.date,n=e.prev,c=e.next,o=e.isPrevDisabled,l=e.isNextDisabled,u=Object(r.useMemo)((function(){var e=s()(t);return e.format("M\u6708D\u65e5 ")+e.locale("zh-cn").format("ddd")}),[t]);return a.a.createElement("div",{className:"nav"},a.a.createElement("span",{className:i()("nav-prev",{"nav-disabled":o}),onClick:n},"\u524d\u4e00\u5929"),a.a.createElement("span",{className:"nav-current"},u),a.a.createElement("span",{className:i()("nav-next",{"nav-disabled":l}),onClick:c},"\u540e\u4e00\u5929"))})));t.a=l},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(2);function c(e,t,n,c){var i=Object(a.a)(e)<Object(a.a)(),o=Object(a.a)(e)-Object(a.a)()>1728e6,s=Object(r.useCallback)((function(){i||t(n())}),[t,i,n]),l=Object(r.useCallback)((function(){o||t(c())}),[t,o,c]);return{isPrevDisabled:i,isNextDisabled:o,prev:s,next:l}}},2:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}n.d(t,"a",(function(){return r}))},20:function(e,t,n){},21:function(e,t,n){"use strict";e.exports=function(e,t,n){if((t-=(e+="").length)<=0)return e;n||0===n||(n=" ");if(" "===(n+="")&&t<10)return r[t]+e;var a="";for(;1&t&&(a+=n),t>>=1;)n+=n;return a+e};var r=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},50:function(e,t,n){e.exports=n(71)},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},7:function(e,t,n){"use strict";n(13);var r=n(0),a=n.n(r);t.a=function(e){var t=e.onBack,n=e.title;return a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"header-back",onClick:t},a.a.createElement("svg",{width:"42",height:"42"},a.a.createElement("polyline",{points:"25,13 16,21 25,29",stroke:"#fff",strokeWidth:"2",fill:"none"}))),a.a.createElement("h1",{className:"header-title"},n))}},71:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),i=n.n(c),o=n(6),s=(n(18),n(1));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=1,d=2,p=n(2),m="SET_FROM",h="SET_TO",f="SET_DEPART_DATE",v="SET_HIGH_SPEED",y="SET_TRAIN_LIST",T="SET_ORDER_TYPE",E="SET_ONLY_TICKETS",b="SET_TICKET_TYPES",S="SET_CHECKED_TICKET_TYPES",g="SET_TRAIN_TYPES",k="SET_CHECKED_TRAIN_TYPES",O="SET_DEPART_STATIONS",j="SET_CHECKED_DEPART_STATIONS",w="SET_ARRIVE_STATIONS",N="SET_CHECKED_ARRIVE_STATIONS",D="SET_DEPART_TIME_START",C="SET_DEPART_TIME_END",_="SET_ARRIVE_TIME_START",A="SET_ARRIVE_TIME_END",R="SET_IS_FILTERS_VISIBLE",P="SET_SEARCH_PARSED";function I(e){return{type:f,payload:e}}function M(e){return{type:v,payload:e}}function L(){return function(e,t){e(M(!t().highSpeed))}}function H(){return function(e,t){e(t().orderType===u?{type:T,payload:d}:{type:T,payload:u})}}function V(){return function(e,t){var n=t().onlyTickets;e({type:E,payload:!n})}}function F(e){return{type:S,payload:e}}function x(e){return{type:k,payload:e}}function W(e){return{type:j,payload:e}}function Y(e){return{type:N,payload:e}}function K(e){return{type:D,payload:e}}function B(e){return{type:C,payload:e}}function X(e){return{type:_,payload:e}}function z(e){return{type:A,payload:e}}function U(){return function(e,t){var n=t().isFiltersVisible;e({type:R,payload:!n})}}function J(){return function(e,t){var n=t().departDate;e(I(Object(p.a)(n)+864e5))}}function q(){return function(e,t){var n=t().departDate;e(I(Object(p.a)(n)-864e5))}}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={from:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case m:return r}return e},to:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case h:return r}return e},departDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case f:return r}return e},highSpeed:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=n.type,a=n.payload;switch(r){case v:return a;case k:return e=a,Boolean(e[1]&&e[5])}return t},trainList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:return r}return e},orderType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case T:return r}return e},onlyTickets:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E:return r}return e},ticketTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return r}return e},checkedTicketTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case S:return r}return e},trainTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return r}return e},checkedTrainTypes:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case k:return c;case v:return e=c,t=Q({},n),e?(t[1]=!0,t[5]=!0):(delete t[1],delete t[5]),t}return n},departStations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case O:return r}return e},checkedDepartStations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j:return r}return e},arriveStations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case w:return r}return e},checkedArriveStations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case N:return r}return e},departTimeStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case D:return r}return e},departTimeEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case C:return r}return e},arriveTimeStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _:return r}return e},arriveTimeEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case A:return r}return e},isFiltersVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case R:return r}return e},searchParsed:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case P:return r}return e}},Z=n(12),ee=Object(s.d)(Object(s.c)($),{from:null,to:null,departDate:Object(p.a)(Date.now()),highSpeed:!1,trainList:[],orderType:u,onlyTickets:!1,ticketTypes:[],checkedTicketTypes:{},trainTypes:[],checkedTrainTypes:{},departStations:[],checkedDepartStations:{},arriveStations:[],checkedArriveStations:{},departTimeStart:0,departTimeEnd:24,arriveTimeStart:0,arriveTimeEnd:24,isFiltersVisible:!1,searchParsed:!1},Object(s.a)(Z.a)),te=(n(51),n(52),n(15)),ne=(n(53),n(8)),re=n.n(ne),ae=Object(r.memo)((function(e){var t=e.dTime,n=e.aTime,c=e.dStation,i=e.aStation,o=e.trainNumber,s=e.date,l=e.time,u=e.priceMsg,d=e.dayAfter,p=Object(r.useMemo)((function(){return new re.a("ticket.html").setSearch("aStation",i).setSearch("dStation",c).setSearch("trainNumber",o).setSearch("date",s).toString()}),[i,c,o,s]);return a.a.createElement("li",{className:"list-item"},a.a.createElement("a",{href:p},a.a.createElement("span",{className:"item-time"},a.a.createElement("em",null,t),a.a.createElement("br",null),a.a.createElement("em",{className:"em-light"},n,a.a.createElement("i",{className:"time-after"},d))),a.a.createElement("span",{className:"item-stations"},a.a.createElement("em",null,a.a.createElement("i",{className:"train-start train-end"},"\u59cb"),c),a.a.createElement("br",null),a.a.createElement("em",{className:"em-light"},a.a.createElement("i",{className:"train-start train-end"},"\u7ec8"),i)),a.a.createElement("span",{className:"item-train"},a.a.createElement("em",null,o),a.a.createElement("br",null),a.a.createElement("em",{className:"em-light"},l)),a.a.createElement("span",{className:"item-ticket"},a.a.createElement("em",null,u),a.a.createElement("br",null),a.a.createElement("em",{className:"em-light-orange"},"\u53ef\u62a2\u7968"))))})),ce=Object(r.memo)((function(e){var t=e.list;return a.a.createElement("ul",{className:"List"},t.map((function(e){return a.a.createElement(ae,Object.assign({},e,{key:e.trainNumber}))})))})),ie=n(5),oe=(n(55),n(3)),se=n.n(oe),le=n(21),ue=n.n(le);n(56);var de=Object(r.memo)((function(e){var t=e.title,n=e.currentStartHours,c=e.currentEndHours,i=e.onStartChanged,o=e.onEndChanged,s=function(){var e=Object(r.useState)(document.documentElement.clientWidth),t=Object(ie.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(document.documentElement.clientHeight),i=Object(ie.a)(c,2),o=i[0],s=i[1],l=function(){a(document.documentElement.clientWidth),s(document.documentElement.clientHeight)};return Object(r.useEffect)((function(){return window.addEventListener("resize",l,!1),function(){window.removeEventListener("resize",l,!1)}}),[]),{width:n,height:o}}(),l=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)(),p=Object(r.useRef)(),m=Object(r.useRef)(),h=Object(r.useRef)(),f=Object(r.useRef)(n),v=Object(r.useRef)(c),y=Object(r.useState)((function(){return n/24*100})),T=Object(ie.a)(y,2),E=T[0],b=T[1],S=Object(r.useState)((function(){return c/24*100})),g=Object(ie.a)(S,2),k=g[0],O=g[1];f.current!==n&&(b(n/24*100),f.current=n),v.current!==c&&(O(c/24*100),v.current=c);var j=Object(r.useMemo)((function(){return E>100?100:E<0?0:E}),[E]),w=Object(r.useMemo)((function(){return k>100?100:k<0?0:k}),[k]),N=Object(r.useMemo)((function(){return Math.round(24*j/100)}),[j]),D=Object(r.useMemo)((function(){return Math.round(24*w/100)}),[w]),C=Object(r.useMemo)((function(){return ue()(N,2,"0")+":00"}),[N]),_=Object(r.useMemo)((function(){return ue()(D,2,"0")+":00"}),[D]);function A(e){var t=e.targetTouches[0];d.current=t.pageX}function R(e){var t=e.targetTouches[0];p.current=t.pageX}function P(e){var t=e.targetTouches[0],n=t.pageX-d.current;d.current=t.pageX,b((function(e){return e+n/h.current*100}))}function I(e){var t=e.targetTouches[0],n=t.pageX-p.current;p.current=t.pageX,O((function(e){return e+n/h.current*100}))}return Object(r.useEffect)((function(){h.current=parseFloat(window.getComputedStyle(m.current).width)}),[s.width]),Object(r.useEffect)((function(){return l.current.addEventListener("touchstart",A,!1),l.current.addEventListener("touchmove",P,!1),u.current.addEventListener("touchstart",R,!1),u.current.addEventListener("touchmove",I,!1),function(){l.current.removeEventListener("touchstart",A,!1),l.current.removeEventListener("touchmove",P,!1),u.current.removeEventListener("touchstart",R,!1),u.current.removeEventListener("touchmove",I,!1)}})),Object(r.useEffect)((function(){i(N)}),[i,N]),Object(r.useEffect)((function(){o(D)}),[D,o]),a.a.createElement("div",{className:"option"},a.a.createElement("h3",null,t),a.a.createElement("div",{className:"range-slider"},a.a.createElement("div",{className:"slider",ref:m},a.a.createElement("div",{className:"slider-range",style:{left:j+"%",width:w-j+"%"}}),a.a.createElement("i",{ref:l,className:"slider-handle",style:{left:j+"%"}},a.a.createElement("span",null,C)),a.a.createElement("i",{ref:u,className:"slider-handle",style:{left:w+"%"}},a.a.createElement("span",null,_)))))}));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t){var n=t.type,r=t.payload,a=me({},e);switch(n){case"toggle":return r in a?delete a[r]:a[r]=!0,a;case"reset":return{}}return e}var fe=Object(r.memo)((function(e){var t=e.name,n=e.checked,r=e.dispatch,c=e.value;return a.a.createElement("li",{className:se()({checked:n}),onClick:function(){return r({payload:c,type:"toggle"})}},t)})),ve=Object(r.memo)((function(e){var t=e.title,n=e.options,r=e.checkedMap,c=e.dispatch;return a.a.createElement("div",{className:"option"},a.a.createElement("h3",null,t),a.a.createElement("ul",null,n.map((function(e){return a.a.createElement(fe,Object.assign({},e,{checked:e.value in r,key:e.value,dispatch:c}))}))))})),ye=Object(r.memo)((function(e){var t=e.ticketTypes,n=e.trainTypes,c=e.departStations,i=e.arriveStations,o=e.checkedTicketTypes,s=e.checkedTrainTypes,l=e.checkedDepartStations,u=e.checkedArriveStations,d=e.departTimeStart,p=e.departTimeEnd,m=e.arriveTimeStart,h=e.arriveTimeEnd,f=e.setCheckedTicketTypes,v=e.setCheckedTrainTypes,y=e.setCheckedDepartStations,T=e.setCheckedArriveStations,E=e.setDepartTimeStart,b=e.setDepartTimeEnd,S=e.setArriveTimeStart,g=e.setArriveTimeEnd,k=e.toggleIsFiltersVisible,O=Object(r.useReducer)(he,o,(function(e){return me({},e)})),j=Object(ie.a)(O,2),w=j[0],N=j[1],D=Object(r.useReducer)(he,s,(function(e){return me({},e)})),C=Object(ie.a)(D,2),_=C[0],A=C[1],R=Object(r.useReducer)(he,l,(function(e){return me({},e)})),P=Object(ie.a)(R,2),I=P[0],M=P[1],L=Object(r.useReducer)(he,u,(function(e){return me({},e)})),H=Object(ie.a)(L,2),V=H[0],F=H[1],x=Object(r.useState)(d),W=Object(ie.a)(x,2),Y=W[0],K=W[1],B=Object(r.useState)(p),X=Object(ie.a)(B,2),z=X[0],U=X[1],J=Object(r.useState)(m),q=Object(ie.a)(J,2),G=q[0],Q=q[1],$=Object(r.useState)(h),Z=Object(ie.a)($,2),ee=Z[0],te=Z[1],ne=[{title:"\u5750\u5e2d\u7c7b\u578b",options:t,checkedMap:w,dispatch:N},{title:"\u8f66\u6b21\u7c7b\u578b",options:n,checkedMap:_,dispatch:A},{title:"\u51fa\u53d1\u8f66\u7ad9",options:c,checkedMap:I,dispatch:M},{title:"\u5230\u8fbe\u8f66\u7ad9",options:i,checkedMap:V,dispatch:F}];var re=Object(r.useMemo)((function(){return 0===Object.keys(w).length&&0===Object.keys(_).length&&0===Object.keys(I).length&&0===Object.keys(V).length&&0===Y&&24===z&&0===G&&24===ee}),[w,_,I,V,Y,z,G,ee]);return a.a.createElement("div",{className:"bottom-modal"},a.a.createElement("div",{className:"bottom-dialog"},a.a.createElement("div",{className:"bottom-dialog-content"},a.a.createElement("div",{className:"title"},a.a.createElement("span",{className:se()("reset",{disabled:re}),onClick:function(){re||(N({type:"reset"}),A({type:"reset"}),M({type:"reset"}),F({type:"reset"}),K(0),U(24),Q(0),te(24))}},"\u91cd\u7f6e"),a.a.createElement("span",{className:"ok",onClick:function(){return f(w),v(_),y(I),T(V),E(Y),b(z),S(G),g(ee),void k()}},"\u786e\u5b9a")),a.a.createElement("div",{className:"options"},ne.map((function(e){return a.a.createElement(ve,Object.assign({key:e.title},e))})),a.a.createElement(de,{title:"\u51fa\u53d1\u65f6\u95f4",currentStartHours:Y,currentEndHours:z,onStartChanged:K,onEndChanged:U}),a.a.createElement(de,{title:"\u5230\u8fbe\u65f6\u95f4",currentStartHours:G,currentEndHours:ee,onStartChanged:Q,onEndChanged:te})))))}));function Te(e){var t=e.toggleHighSpeed,n=e.toggleIsFiltersVisible,c=e.toggleOnlyTickets,i=e.toggleOrderType,o=e.highSpeed,s=e.orderType,l=e.onlyTickets,d=e.isFiltersVisible,p=e.ticketTypes,m=e.trainTypes,h=e.departStations,f=e.arriveStations,v=e.checkedTicketTypes,y=e.checkedTrainTypes,T=e.checkedDepartStations,E=e.checkedArriveStations,b=e.departTimeStart,S=e.departTimeEnd,g=e.arriveTimeStart,k=e.arriveTimeEnd,O=e.setCheckedTicketTypes,j=e.setCheckedTrainTypes,w=e.setCheckedDepartStations,N=e.setCheckedArriveStations,D=e.setDepartTimeStart,C=e.setDepartTimeEnd,_=e.setArriveTimeStart,A=e.setArriveTimeEnd,R=Object(r.useMemo)((function(){return 0===Object.keys(v).length&&0===Object.keys(y).length&&0===Object.keys(T).length&&0===Object.keys(E).length&&0===b&&24===S&&0===g&&24===k}),[v,y,T,E,b,S,g,k]);return a.a.createElement("div",{className:"bottom"},a.a.createElement("div",{className:"bottom-filters"},a.a.createElement("span",{className:"item",onClick:i},a.a.createElement("i",{className:"icon"},"\uf065"),s===u?"\u51fa\u53d1 \u65e9\u2192\u665a":"\u8017\u65f6 \u77ed\u2192\u957f"),a.a.createElement("span",{className:se()("item",{"item-on":o}),onClick:t},a.a.createElement("i",{className:"icon"},o?"\uf43f":"\uf43e"),"\u53ea\u770b\u9ad8\u94c1\u52a8\u8f66"),a.a.createElement("span",{className:se()("item",{"item-on":l}),onClick:c},a.a.createElement("i",{className:"icon"},l?"\uf43d":"\uf43c"),"\u53ea\u770b\u6709\u7968"),a.a.createElement("span",{className:se()("item",{"item-on":d||!R}),onClick:n},a.a.createElement("i",{className:"icon"},R?"\uf0f7":"\uf446"),"\u7efc\u5408\u7b5b\u9009")),d&&a.a.createElement(ye,{ticketTypes:p,trainTypes:m,departStations:h,arriveStations:f,checkedTicketTypes:v,checkedTrainTypes:y,checkedDepartStations:T,checkedArriveStations:E,departTimeStart:b,departTimeEnd:S,arriveTimeStart:g,arriveTimeEnd:k,setCheckedTicketTypes:O,setCheckedTrainTypes:j,setCheckedDepartStations:w,setCheckedArriveStations:N,setDepartTimeStart:D,setDepartTimeEnd:C,setArriveTimeStart:_,setArriveTimeEnd:A,toggleIsFiltersVisible:n}))}var Ee=n(7),be=n(4),Se=n.n(be),ge=n(16);var ke=Object(o.b)((function(e){return e}),(function(e){return{dispatch:e}}))((function(e){var t=e.trainList,n=e.from,c=e.to,i=e.departDate,o=e.highSpeed,l=e.searchParsed,u=e.dispatch,d=e.orderType,f=e.onlyTickets,v=e.isFiltersVisible,T=e.ticketTypes,E=e.trainTypes,S=e.departStations,k=e.arriveStations,j=e.checkedTicketTypes,N=e.checkedTrainTypes,D=e.checkedDepartStations,C=e.checkedArriveStations,_=e.departTimeStart,A=e.departTimeEnd,R=e.arriveTimeStart,G=e.arriveTimeEnd,Q=Object(r.useCallback)((function(){window.history.back()}),[]);Object(r.useEffect)((function(){var e=re.a.parseQuery(window.location.search),t=e.from,n=e.to,r=e.date,a=e.highSpeed;u(function(e){return{type:m,payload:e}}(t)),u(function(e){return{type:h,payload:e}}(n)),u(I(Object(p.a)(Se()(r).valueOf()))),u(M("true"===a)),u(function(e){return{type:P,payload:e}}(!0))}),[u]),Object(r.useEffect)((function(){if(l){var e=new re.a("/rest/query").setSearch("from",n).setSearch("to",c).setSearch("date",Se()(i).format("YYYY-MM-DD")).setSearch("highSpeed",o).setSearch("orderType",d).setSearch("onlyTickets",f).setSearch("checkedTicketTypes",Object.keys(j).join()).setSearch("checkedTrainTypes",Object.keys(N).join()).setSearch("checkedDepartStations",Object.keys(D).join()).setSearch("checkedArriveStations",Object.keys(C).join()).setSearch("departTimeStart",_).setSearch("departTimeEnd",A).setSearch("arriveTimeStart",R).setSearch("arriveTimeEnd",G).toString();fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.dataMap.directTrainInfo,n=t.trains,r=t.filter,a=r.ticketType,c=r.trainType,i=r.depStation,o=r.arrStation;u(function(e){return{type:y,payload:e}}(n)),u(function(e){return{type:b,payload:e}}(a)),u(function(e){return{type:g,payload:e}}(c)),u(function(e){return{type:O,payload:e}}(i)),u(function(e){return{type:w,payload:e}}(o))}))}}),[n,c,i,o,l,d,f,j,N,D,C,_,A,R,G,u]);var $=Object(ge.a)(i,u,q,J),Z=$.isPrevDisabled,ee=$.isNextDisabled,ne=$.prev,ae=$.next,ie=Object(r.useMemo)((function(){return Object(s.b)({toggleHighSpeed:L,toggleIsFiltersVisible:U,toggleOnlyTickets:V,toggleOrderType:H,setCheckedTicketTypes:F,setCheckedTrainTypes:x,setCheckedDepartStations:W,setCheckedArriveStations:Y,setDepartTimeStart:K,setDepartTimeEnd:B,setArriveTimeStart:X,setArriveTimeEnd:z},u)}),[u]);return l?a.a.createElement("div",null,a.a.createElement("div",{className:"header-wrapper"},a.a.createElement(Ee.a,{title:"".concat(n,"\u2192").concat(c),onBack:Q})),a.a.createElement(te.a,{date:i,isPrevDisabled:Z,isNextDisabled:ee,prev:ne,next:ae}),a.a.createElement(ce,{list:t}),a.a.createElement(Te,Object.assign({highSpeed:o,orderType:d,onlyTickets:f,isFiltersVisible:v,ticketTypes:T,trainTypes:E,departStations:S,arriveStations:k,checkedTicketTypes:j,checkedTrainTypes:N,checkedDepartStations:D,checkedArriveStations:C,departTimeStart:_,departTimeEnd:A,arriveTimeStart:R,arriveTimeEnd:G},ie))):null})),Oe=n(9);i.a.render(a.a.createElement(o.a,{store:ee},a.a.createElement(ke,null)),document.getElementById("root")),Oe.a()},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");r?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}},[[50,7,0,1]]]);
//# sourceMappingURL=query.4e53901a.chunk.js.map